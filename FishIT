--[[
    HYPER SPAM FISHING (BRUTAL MODE)
    Target: Multi-Notifications & Instant Catch
    Created by Gemini
]]

local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local CoreGui = game:GetService("CoreGui")
local RunService = game:GetService("RunService")

-- // CONFIGURATION \\ --
local CONFIG = {
    SpamIntensity = 5, -- Berapa kali kirim sinyal "Catch" sekaligus (Coba 3, 5, atau 10)
    LoopSpeed = 0,     -- 0 = Secepat frame rate game
}

local AutoEnabled = false
local Connection = nil -- Untuk menyimpan loop Heartbeat

-- // REMOTE EVENTS SETUP \\ --
local NetPath = ReplicatedStorage:WaitForChild("Packages"):WaitForChild("_Index")["sleitnick_net@0.2.0"].net
local ChargeRod = NetPath["RF/ChargeFishingRod"]
local StartMinigame = NetPath["RF/RequestFishingMinigameStarted"]
local CatchFish = NetPath["RF/CatchFishCompleted"]

-- // UI CREATION \\ --
if CoreGui:FindFirstChild("HyperFishingUI") then
    CoreGui.HyperFishingUI:Destroy()
end

local ScreenGui = Instance.new("ScreenGui")
local MainFrame = Instance.new("Frame")
local Title = Instance.new("TextLabel")
local ToggleBtn = Instance.new("TextButton")
local UIStroke = Instance.new("UIStroke")
local UICorner = Instance.new("UICorner")

ScreenGui.Name = "HyperFishingUI"
ScreenGui.Parent = CoreGui

MainFrame.Name = "MainFrame"
MainFrame.Parent = ScreenGui
MainFrame.BackgroundColor3 = Color3.fromRGB(10, 10, 10)
MainFrame.Position = UDim2.new(0.85, 0, 0.5, 0)
MainFrame.Size = UDim2.new(0, 140, 0, 80)
MainFrame.Active = true
MainFrame.Draggable = true

UICorner.Parent = MainFrame
UICorner.CornerRadius = UDim.new(0, 8)

UIStroke.Parent = MainFrame
UIStroke.Color = Color3.fromRGB(255, 0, 255) -- Ungu (Hyper Mode)
UIStroke.Thickness = 3

Title.Parent = MainFrame
Title.Text = "HYPER SPAM"
Title.TextColor3 = Color3.fromRGB(255, 0, 255)
Title.Font = Enum.Font.GothamBlack
Title.TextSize = 16
Title.Size = UDim2.new(1, 0, 0, 30)
Title.BackgroundTransparency = 1

ToggleBtn.Parent = MainFrame
ToggleBtn.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
ToggleBtn.Position = UDim2.new(0.1, 0, 0.45, 0)
ToggleBtn.Size = UDim2.new(0.8, 0, 0.4, 0)
ToggleBtn.Font = Enum.Font.GothamBold
ToggleBtn.Text = "OFF"
ToggleBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
ToggleBtn.TextSize = 14
Instance.new("UICorner", ToggleBtn).CornerRadius = UDim.new(0, 6)

-- // HYPER LOGIC \\ --

local function StartHyperLoop()
    -- Menggunakan Heartbeat untuk kecepatan maksimal (sesuai FPS)
    Connection = RunService.Heartbeat:Connect(function()
        if not AutoEnabled then return end
        
        task.spawn(function()
            -- 1. LEMPAR & MULAI MINIGAME (Hampir Bersamaan)
            pcall(function()
                local now = tick()
                -- Kirim Charge
                ChargeRod:InvokeServer(nil, nil, now, nil)
                
                -- Kirim Start Minigame (langsung tanpa wait)
                StartMinigame:InvokeServer(-0.99, 0.77, now) 
            end)
            
            -- Tunggu 1 frame saja agar server memproses "Start"
            RunService.Heartbeat:Wait()
            
            -- 2. SPAM CATCH (Looping Brutal)
            -- Ini yang bikin notif banyak/bertumpuk
            for i = 1, CONFIG.SpamIntensity do
                task.spawn(function()
                    pcall(function()
                        CatchFish:InvokeServer()
                    end)
                end)
            end
        end)
        
        -- Jeda Loop Utama (Agar tidak crash total)
        -- Jika ingin lebih cepat, hapus baris task.wait ini, tapi risiko crash tinggi.
        task.wait(0.05) 
    end)
end

local function StopHyperLoop()
    if Connection then
        Connection:Disconnect()
        Connection = nil
    end
end

-- // BUTTON LOGIC \\ --
ToggleBtn.MouseButton1Click:Connect(function()
    AutoEnabled = not AutoEnabled
    
    if AutoEnabled then
        ToggleBtn.Text = "SPAMMING!"
        ToggleBtn.BackgroundColor3 = Color3.fromRGB(255, 0, 255) -- Ungu
        StartHyperLoop()
    else
        ToggleBtn.Text = "OFF"
        ToggleBtn.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
        StopHyperLoop()
    end
end)
