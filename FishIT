local Fluent = loadstring(game:HttpGet("https://github.com/dawid-scripts/Fluent/releases/latest/download/main.lua"))()

local Window = Fluent:CreateWindow({
    Title = "FISHING GOD MODE",
    SubTitle = "Burst Spam Logic",
    TabWidth = 160,
    Size = UDim2.fromOffset(500, 360),
    Acrylic = true, 
    Theme = "Dark",
    MinimizeKey = Enum.KeyCode.LeftControl
})

-- ==========================================
-- CONFIG
-- ==========================================
local Options = Fluent.Options
getgenv().Config = {
    Active = false,
    CastTime = 0.95, -- Waktu terbang kail (harus pas)
    SpamSpeed = 0.01 -- Kecepatan Spam (Semakin kecil = semakin brutal)
}

-- Services
local RS = game:GetService("ReplicatedStorage")
local RunService = game:GetService("RunService")
local Net = RS.Packages["_Index"]["sleitnick_net@0.2.0"].net

-- Remotes
local Remotes = {
    Charge   = Net["RF/ChargeFishingRod"],
    Request  = Net["RF/RequestFishingMinigameStarted"],
    Catch    = Net["RF/CatchFishCompleted"], 
    Cancel   = Net["RF/CancelFishingInputs"]
}

local args = { -1.115296483039856, 0, 1763651451.636425 }

-- ==========================================
-- IMPROVED LOGIC (BURST SPAM)
-- ==========================================
local function RunBurstFishing()
    task.spawn(function()
        while getgenv().Config.Active do
            -- 1. CHARGE ROD (Lempar)
            pcall(function() Remotes.Charge:InvokeServer() end)
            
            -- [PHASE 1: MENUNGGU KAIL JATUH]
            -- Kita tunggu sebentar agar kail terlihat terbang.
            task.wait(getgenv().Config.CastTime)
            if not getgenv().Config.Active then break end

            -- [PHASE 2: BURST REQUEST (BYPASS !)]
            -- Alih-alih kirim 1x, kita kirim 5-10x request dalam waktu singkat.
            -- Ini menjamin kita kena "hit" tepat saat kail masuk air.
            task.spawn(function()
                for i = 1, 8 do 
                    if not getgenv().Config.Active then break end
                    pcall(function() Remotes.Request:InvokeServer(unpack(args)) end)
                    task.wait(getgenv().Config.SpamSpeed)
                end
            end)

            -- Tunggu sebentar biar request di atas masuk
            task.wait(0.1) 
            if not getgenv().Config.Active then break end

            -- [PHASE 3: BURST CATCH (INSTANT WIN)]
            -- Kita spam sinyal CatchFishCompleted biar server tidak bisa menolak.
            for i = 1, 5 do
                if not getgenv().Config.Active then break end
                pcall(function() Remotes.Catch:InvokeServer() end)
                task.wait(getgenv().Config.SpamSpeed) -- Sangat cepat
            end
            
            -- Reset Input (Penting agar tidak nge-bug animasinya)
            pcall(function() Remotes.Cancel:InvokeServer() end)
            
            -- Cooldown kecil sebelum loop ulang
            task.wait(0.05)
        end
    end)
end

-- ==========================================
-- UI
-- ==========================================
local Tabs = {
    Main = Window:AddTab({ Title = "Burst Mode", Icon = "server" }),
}

local Toggle = Tabs.Main:AddToggle("MyToggle", {Title = "Enable Burst Fishing", Default = false })

Toggle:OnChanged(function()
    getgenv().Config.Active = Options.MyToggle.Value
    if getgenv().Config.Active then
        RunBurstFishing()
        Fluent:Notify({Title = "Active", Content = "Burst Mode Started", Duration = 2})
    else
        pcall(function() Remotes.Cancel:InvokeServer() end)
    end
end)

Tabs.Main:AddParagraph({
    Title = "Cara Kerja Burst (Improved)",
    Content = "Script ini melakukan 'Spamming' request tepat saat kail menyentuh air. \nIni jauh lebih akurat daripada metode delay biasa."
})

-- Input Cast Time
local InputCast = Tabs.Main:AddInput("InputCast", {
    Title = "Flight Time (Waktu Terbang)",
    Default = "0.95",
    Placeholder = "Coba 0.9 - 1.1",
    Numeric = true,
    Finished = true,
    Callback = function(Value)
        local num = tonumber(Value)
        if num then getgenv().Config.CastTime = num end
    end
})

-- Input Spam Speed
local InputSpam = Tabs.Main:AddInput("InputSpam", {
    Title = "Spam Delay (ms)",
    Default = "0.01",
    Placeholder = "Semakin kecil semakin cepat",
    Numeric = true,
    Finished = true,
    Callback = function(Value)
        local num = tonumber(Value)
        if num then getgenv().Config.SpamSpeed = num end
    end
})

Window:SelectTab(1)
